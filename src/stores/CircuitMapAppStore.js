import _ from 'lodash';
import Reflux from 'reflux';
import ImmutableStoreMixin from 'reflux-immutable';

import CircuitMapAppActions from '../actions/CircuitMapAppActions';

import RawLine from '../components/RawLine';

import trackCircuits from '../track-circuits.json';
import standardRoutes from '../standard-routes.json';
import Utilities from "../utilities/Utilities";

export default Reflux.createStore({

  listenables: CircuitMapAppActions,

  mixins: [
    ImmutableStoreMixin
  ],

  init() {
    this.setState({
      trackCircuitMap: null,
      circuits: null,
      selectedTrainId: null,
      stationCodeNameMap: Utilities.getStationCodeNameMap(),
      magicNumbersMap: {
        '4': 12.135,
        '5': 12.135,
        '6': 213.4,
        '7': 600,
        '8': 52,
        '9': 107,
        '10': 107,
        '11': 107,
        '12': 107,
        '13': 487,
        '14': 979,
        '15': 1019,
        '16': 749,
        '17': 836,
        '18': 824,
        '19': 896,
        '20': 893,
        '21': 897,
        '22': 892,
        '23': 802,
        '24': 987,
        '25': 734,
        '26': 450,
        '27': 455,
        '28': 151,
        '29': 297,
        '30': 461,
        '31': 266,
        '32': 600,
        '33': 425,
        '34': 447,
        '35': 453,
        '36': 370,
        '37': 830,
        '38': 857,
        '39': 843,
        '40': 810,
        '41': 765,
        '42': 875,
        '43': 1230,
        '44': 410,
        '45': 498,
        '46': 437,
        '47': 341,
        '48': 88.5,
        '49': 88.5,
        '50': 82.5,
        '51': 82.5,
        '52': 52,
        '53': 600,
        '54': 395,
        '55': 390,
        '56': 370,
        '57': 1100,
        '58': 1325,
        '59': 520,
        '60': 760,
        '61': 435,
        '62': 600,
        '63': 485,
        '64': 602,
        '65': 935,
        '66': 873,
        '67': 700,
        '68': 1167,
        '69': 471,
        '70': 259,
        '71': 44.5,
        '72': 44.5,
        '73': 81,
        '74': 363,
        '75': 354,
        '76': 81,
        '77': 62.5,
        '78': 62.5,
        '79': 88,
        '80': 600,
        '81': 517,
        '82': 610,
        '83': 345,
        '84': 1174,
        '85': 1047,
        '86': 656,
        '87': 843,
        '88': 1280,
        '89': 1142,
        '90': 698,
        '91': 1289,
        '92': 701,
        '93': 705,
        '94': 235,
        '95': 600,
        '96': 52,
        '97': 85.5,
        '98': 85.5,
        '99': 85.5,
        '100': 85.5,
        '101': 386,
        '102': 452,
        '103': 1235,
        '104': 831,
        '105': 552,
        '106': 560,
        '107': 387,
        '108': 126,
        '109': 600,
        '110': 109,
        '111': 498,
        '112': 717,
        '113': 1298,
        '114': 1085,
        '115': 1110,
        '116': 720,
        '117': 904,
        '118': 597,
        '119': 414,
        '120': 576,
        '121': 88.5,
        '122': 88.5,
        '123': 91,
        '124': 91,
        '125': 105,
        '126': 600,
        '127': 545,
        '128': 514,
        '129': 1046,
        '130': 600,
        '131': 640,
        '132': 170,
        '133': 600,
        '134': 460,
        '135': 608,
        '136': 312,
        '137': 1218,
        '138': 1026,
        '139': 832,
        '140': 646,
        '141': 138,
        '142': 600,
        '143': 128,
        '144': 86,
        '145': 86,
        '146': 85,
        '147': 85,
        '148': 290,
        '149': 393,
        '150': 307,
        '151': 460,
        '152': 525,
        '153': 275,
        '154': 600,
        '155': 270,
        '156': 593,
        '157': 227,
        '158': 238,
        '159': 272,
        '160': 525,
        '161': 390,
        '162': 475,
        '163': 150,
        '164': 600,
        '165': 620,
        '166': 533,
        '167': 814,
        '168': 1333,
        '169': 424,
        '170': 436,
        '171': 195,
        '172': 507,
        '173': 517,
        '174': 46,
        '175': 46,
        '176': 93,
        '177': 48,
        '178': 48,
        '179': 600,
        '180': 400,
        '181': 269,
        '182': 241,
        '183': 72.5,
        '184': 72.5,
        '185': 424,
        '186': 442,
        '187': 62.5,
        '188': 62.5,
        '189': 59,
        '190': 600,
        '191': 349,
        '192': 306,
        '193': 290,
        '194': 708,
        '195': 738,
        '196': 194,
        '197': 218,
        '198': 185,
        '199': 133,
        '200': 196,
        '201': 168,
        '202': 50,
        '203': 600,
        '207': 12.52,
        '208': 12.52,
        '209': 213,
        '210': 600,
        '211': 52,
        '212': 107,
        '213': 107,
        '214': 107,
        '215': 107,
        '216': 660,
        '217': 806,
        '218': 426,
        '219': 1342,
        '220': 1240,
        '221': 420,
        '222': 894,
        '223': 895,
        '224': 997,
        '225': 792,
        '226': 596,
        '227': 1193,
        '228': 1235,
        '229': 562,
        '230': 569,
        '231': 448,
        '232': 600,
        '233': 625,
        '234': 515,
        '235': 555,
        '236': 625,
        '237': 1062,
        '238': 1063,
        '239': 590,
        '240': 820,
        '241': 820,
        '242': 820,
        '243': 820,
        '244': 647,
        '245': 629,
        '246': 88.5,
        '247': 88.5,
        '248': 82.5,
        '249': 82.5,
        '250': 52,
        '251': 600,
        '252': 739,
        '253': 540,
        '254': 552,
        '255': 424,
        '256': 720,
        '257': 1125,
        '258': 590,
        '259': 605,
        '260': 600,
        '261': 515,
        '262': 595,
        '263': 513,
        '264': 399,
        '265': 873,
        '266': 700,
        '267': 1125,
        '268': 513,
        '269': 259,
        '270': 44.5,
        '271': 44.5,
        '272': 81,
        '273': 717,
        '274': 81,
        '275': 63.5,
        '276': 63.5,
        '277': 86,
        '278': 600,
        '279': 662,
        '280': 465,
        '281': 645,
        '282': 1467,
        '283': 454,
        '284': 669,
        '285': 830,
        '286': 1140,
        '287': 1282,
        '288': 988,
        '289': 999,
        '290': 346,
        '291': 493,
        '292': 522,
        '293': 280,
        '294': 600,
        '295': 52,
        '296': 85.5,
        '297': 85.5,
        '298': 85.5,
        '299': 85.5,
        '300': 464,
        '301': 466,
        '302': 409,
        '303': 734,
        '304': 757,
        '305': 619,
        '306': 587,
        '307': 367,
        '308': 126,
        '309': 600,
        '310': 109,
        '311': 413,
        '312': 516,
        '313': 568,
        '314': 1016,
        '315': 1097,
        '316': 1098,
        '317': 790,
        '318': 834,
        '319': 916,
        '320': 671,
        '321': 88.5,
        '322': 88.5,
        '323': 88.5,
        '324': 88.5,
        '325': 110,
        '326': 600,
        '327': 165,
        '328': 505,
        '329': 475,
        '330': 337,
        '331': 368,
        '332': 255,
        '333': 395,
        '334': 735,
        '335': 280,
        '336': 600,
        '337': 403,
        '338': 597,
        '339': 896,
        '340': 702,
        '341': 1026,
        '342': 618,
        '343': 340,
        '344': 518,
        '345': 140,
        '346': 600,
        '347': 128,
        '348': 86,
        '349': 86,
        '350': 85,
        '351': 85,
        '352': 288,
        '353': 395,
        '354': 652,
        '355': 915,
        '356': 600,
        '357': 313,
        '358': 503,
        '359': 281,
        '360': 803,
        '361': 640,
        '362': 600,
        '363': 600,
        '364': 400,
        '365': 602,
        '366': 476,
        '367': 489,
        '368': 1270,
        '369': 923,
        '370': 630,
        '371': 364,
        '372': 226,
        '373': 45.5,
        '374': 45.5,
        '375': 46,
        '376': 46,
        '377': 97,
        '378': 600,
        '379': 400,
        '380': 269,
        '381': 240,
        '382': 73,
        '383': 73,
        '384': 435,
        '385': 420,
        '386': 68,
        '387': 68,
        '388': 59,
        '389': 600,
        '390': 83,
        '391': 91,
        '392': 52,
        '393': 226,
        '394': 239,
        '395': 278,
        '396': 638,
        '397': 842,
        '398': 381,
        '399': 291,
        '400': 414,
        '462': 221,
        '463': 275,
        '464': 266,
        '465': 58,
        '466': 85,
        '467': 600,
        '468': 293,
        '469': 311,
        '470': 262,
        '471': 241,
        '472': 46,
        '473': 46,
        '474': 46,
        '475': 46,
        '476': 74,
        '477': 600,
        '478': 451,
        '479': 261,
        '480': 428,
        '481': 545,
        '482': 545,
        '483': 546,
        '484': 62,
        '485': 600,
        '486': 545,
        '487': 495,
        '488': 467,
        '489': 63,
        '490': 63,
        '491': 63.25,
        '492': 63.25,
        '493': 402.5,
        '494': 532,
        '495': 255,
        '496': 600,
        '497': 193,
        '498': 494,
        '499': 100.5,
        '500': 100.5,
        '501': 588,
        '502': 95,
        '503': 98.5,
        '504': 98.5,
        '505': 395,
        '506': 103,
        '507': 103,
        '508': 905,
        '509': 412,
        '510': 362,
        '511': 609,
        '512': 506,
        '513': 600,
        '514': 404,
        '515': 438,
        '516': 132,
        '517': 51,
        '518': 51,
        '519': 45.5,
        '520': 45.5,
        '521': 599,
        '522': 439,
        '523': 534,
        '524': 307,
        '525': 369,
        '526': 538,
        '527': 600,
        '528': 147,
        '529': 510,
        '530': 391,
        '531': 619,
        '532': 613,
        '533': 1118,
        '534': 525,
        '535': 361,
        '536': 103.5,
        '537': 103.5,
        '538': 240,
        '539': 58,
        '540': 58,
        '541': 58,
        '542': 58,
        '543': 144,
        '544': 435,
        '545': 500,
        '546': 411,
        '547': 50,
        '548': 600,
        '549': 624,
        '550': 370,
        '551': 380,
        '552': 587,
        '553': 1034,
        '554': 822,
        '555': 823,
        '556': 802,
        '557': 803,
        '558': 623,
        '559': 90,
        '560': 47.5,
        '561': 47.5,
        '562': 48,
        '563': 48,
        '564': 89,
        '565': 648,
        '566': 358,
        '567': 370,
        '568': 332,
        '569': 314,
        '570': 175,
        '571': 600,
        '572': 443,
        '573': 271,
        '574': 325,
        '575': 756,
        '576': 888,
        '577': 715,
        '578': 894,
        '579': 486,
        '580': 231,
        '581': 350,
        '582': 336,
        '583': 119,
        '584': 103,
        '585': 103,
        '586': 277,
        '587': 277,
        '588': 102.5,
        '589': 102.5,
        '590': 110,
        '591': 600,
        '592': 39,
        '593': 78,
        '594': 78,
        '595': 182,
        '596': 684,
        '597': 99,
        '598': 77.5,
        '599': 77.5,
        '600': 585,
        '601': 1244,
        '602': 456,
        '603': 558,
        '604': 1142,
        '605': 1195,
        '606': 605,
        '607': 350,
        '608': 195,
        '609': 255,
        '610': 420,
        '611': 600,
        '612': 350,
        '613': 240,
        '614': 397,
        '615': 573,
        '616': 103.5,
        '617': 103.5,
        '618': 103.5,
        '619': 103.5,
        '620': 606,
        '621': 1504,
        '622': 796,
        '623': 1260,
        '624': 340,
        '625': 510,
        '626': 230,
        '627': 360,
        '628': 382,
        '629': 600,
        '630': 95,
        '631': 117,
        '632': 117,
        '633': 121,
        '634': 121,
        '635': 647,
        '636': 380,
        '637': 605,
        '638': 740,
        '639': 741,
        '640': 741,
        '641': 693,
        '642': 745,
        '643': 712,
        '644': 803,
        '645': 540,
        '646': 355,
        '647': 102,
        '648': 102,
        '649': 101,
        '650': 101,
        '651': 54,
        '652': 600,
        '653': 279,
        '654': 115,
        '655': 58,
        '656': 58,
        '657': 64,
        '658': 64,
        '659': 129,
        '660': 367,
        '661': 300,
        '662': 130,
        '663': 133,
        '664': 226,
        '665': 273,
        '666': 143,
        '667': 600,
        '668': 244,
        '669': 310,
        '670': 265,
        '671': 288,
        '672': 46,
        '673': 46,
        '674': 45.5,
        '675': 45.5,
        '676': 75,
        '677': 600,
        '678': 395,
        '679': 745,
        '680': 445,
        '681': 414,
        '682': 321,
        '683': 236,
        '684': 174,
        '685': 108,
        '686': 600,
        '687': 50,
        '688': 443,
        '689': 278,
        '690': 279,
        '691': 192,
        '692': 270,
        '693': 63,
        '694': 63,
        '695': 63.25,
        '696': 63.25,
        '697': 207.5,
        '698': 350,
        '699': 627,
        '700': 600,
        '701': 244,
        '702': 405,
        '703': 199,
        '704': 107.5,
        '705': 107.5,
        '706': 504,
        '707': 654,
        '708': 98.5,
        '709': 98.5,
        '710': 316,
        '711': 97.5,
        '712': 97.5,
        '713': 987,
        '714': 250,
        '715': 546,
        '716': 451,
        '717': 600,
        '718': 350,
        '719': 302,
        '720': 322.2,
        '721': 48.3,
        '722': 48.3,
        '723': 48.3,
        '724': 48.3,
        '725': 580.6,
        '726': 582,
        '727': 409,
        '728': 426,
        '729': 385,
        '730': 403,
        '731': 600,
        '732': 50,
        '733': 177,
        '734': 166,
        '735': 264,
        '736': 345,
        '737': 398,
        '738': 282,
        '739': 314,
        '740': 284,
        '741': 388,
        '742': 1255,
        '743': 528,
        '744': 61,
        '745': 52.5,
        '746': 52.5,
        '747': 52.5,
        '748': 52.5,
        '749': 89,
        '750': 89,
        '751': 207,
        '752': 343,
        '753': 313,
        '754': 239,
        '755': 263,
        '756': 238,
        '757': 600,
        '758': 50,
        '759': 199,
        '760': 305,
        '761': 195,
        '762': 261,
        '763': 193,
        '764': 171,
        '765': 279,
        '766': 243,
        '767': 361,
        '768': 738,
        '769': 991,
        '770': 654,
        '771': 802,
        '772': 803,
        '773': 625,
        '774': 91.5,
        '775': 91.5,
        '776': 91.5,
        '777': 91.5,
        '778': 645,
        '779': 513,
        '780': 250,
        '781': 236,
        '782': 175,
        '783': 179,
        '784': 201,
        '785': 600,
        '786': 50,
        '787': 159,
        '788': 327,
        '789': 253,
        '790': 250,
        '791': 190,
        '792': 191,
        '793': 217,
        '794': 293,
        '795': 301,
        '796': 452,
        '797': 359,
        '798': 1250,
        '799': 1042,
        '800': 485,
        '801': 308,
        '802': 82,
        '803': 43,
        '804': 43,
        '805': 43,
        '806': 43,
        '807': 82,
        '808': 426,
        '809': 600,
        '810': 115,
        '811': 75,
        '812': 75,
        '813': 112,
        '814': 684,
        '815': 185,
        '816': 83,
        '817': 83,
        '818': 888,
        '819': 834,
        '820': 466,
        '821': 558,
        '822': 1142,
        '823': 1300,
        '824': 640,
        '825': 410,
        '826': 300,
        '827': 394,
        '828': 600,
        '829': 406,
        '830': 260,
        '831': 297,
        '832': 393,
        '833': 204,
        '834': 97,
        '835': 97,
        '836': 98,
        '837': 98,
        '838': 606,
        '839': 1504,
        '840': 1496,
        '841': 540,
        '842': 635,
        '843': 425,
        '844': 400,
        '845': 382,
        '846': 600,
        '847': 95,
        '848': 117,
        '849': 117,
        '850': 121,
        '851': 121,
        '852': 647,
        '853': 420,
        '854': 565,
        '855': 740,
        '856': 761,
        '857': 721,
        '858': 718,
        '859': 716,
        '860': 716,
        '861': 803,
        '862': 897,
        '863': 101,
        '864': 101,
        '865': 100.5,
        '866': 100.5,
        '867': 55,
        '868': 600,
        '869': 248,
        '870': 65,
        '871': 65,
        '872': 131,
        '873': 130,
        '874': 65,
        '875': 65,
        '876': 396.18,
        '943': 841.5,
        '944': 600,
        '945': 52,
        '946': 101.75,
        '947': 101.75,
        '948': 101.75,
        '949': 101.75,
        '950': 172,
        '951': 407,
        '952': 310,
        '953': 430,
        '954': 410,
        '955': 600,
        '956': 225,
        '957': 57.5,
        '958': 57.5,
        '959': 60,
        '960': 505,
        '961': 435,
        '962': 552,
        '963': 165,
        '964': 140,
        '965': 75,
        '966': 75,
        '967': 598,
        '968': 180,
        '969': 600,
        '970': 568,
        '971': 657,
        '972': 175,
        '973': 525,
        '974': 300,
        '975': 620,
        '976': 600,
        '977': 52,
        '978': 83,
        '979': 83,
        '980': 88.5,
        '981': 88.5,
        '982': 765,
        '983': 785,
        '984': 608,
        '985': 1321,
        '986': 560,
        '987': 631,
        '988': 633,
        '989': 182,
        '990': 600,
        '991': 240,
        '992': 675,
        '993': 890,
        '994': 1157,
        '995': 408,
        '996': 979,
        '997': 990,
        '998': 815,
        '999': 815,
        '1000': 158,
        '1001': 528,
        '1002': 266,
        '1003': 291,
        '1004': 290,
        '1005': 192,
        '1006': 67,
        '1007': 67,
        '1008': 112,
        '1009': 63,
        '1010': 600,
        '1011': 63,
        '1012': 112,
        '1013': 67.5,
        '1014': 67.5,
        '1015': 149,
        '1016': 191,
        '1017': 117,
        '1018': 178,
        '1019': 445,
        '1020': 187,
        '1021': 337,
        '1022': 424,
        '1023': 171,
        '1024': 600,
        '1025': 431,
        '1026': 485,
        '1027': 501,
        '1028': 508,
        '1029': 455,
        '1030': 200,
        '1031': 196,
        '1032': 264,
        '1033': 180,
        '1034': 198,
        '1035': 50,
        '1036': 600,
        '1037': 74,
        '1038': 45.5,
        '1039': 45.5,
        '1040': 46,
        '1041': 46,
        '1042': 256,
        '1043': 255,
        '1044': 306,
        '1045': 237,
        '1046': 196,
        '1047': 248,
        '1048': 276,
        '1049': 310,
        '1050': 235,
        '1051': 61,
        '1052': 600,
        '1053': 59,
        '1054': 64.5,
        '1055': 64.5,
        '1056': 106.08,
        '1057': 304.92,
        '1058': 232,
        '1059': 266,
        '1060': 726,
        '1061': 1220,
        '1062': 998,
        '1063': 671,
        '1064': 254,
        '1065': 348,
        '1066': 242,
        '1067': 292,
        '1068': 293,
        '1069': 263,
        '1070': 600,
        '1071': 59,
        '1072': 46,
        '1073': 46,
        '1074': 46,
        '1075': 46,
        '1076': 283,
        '1077': 294,
        '1078': 227,
        '1079': 482,
        '1080': 245,
        '1081': 784,
        '1082': 331,
        '1083': 247,
        '1084': 278,
        '1085': 172,
        '1086': 203,
        '1087': 210,
        '1088': 136,
        '1089': 69,
        '1090': 69,
        '1091': 81,
        '1092': 600,
        '1093': 243,
        '1094': 328,
        '1095': 376,
        '1096': 136,
        '1097': 797,
        '1098': 863,
        '1099': 825,
        '1100': 826,
        '1101': 550,
        '1102': 768,
        '1103': 479,
        '1104': 267,
        '1105': 600,
        '1106': 59,
        '1107': 79,
        '1108': 79,
        '1109': 84.805,
        '1110': 84.805,
        '1111': 267.39,
        '1112': 310,
        '1113': 320,
        '1114': 308,
        '1115': 344,
        '1116': 230,
        '1117': 600,
        '1118': 425,
        '1119': 293,
        '1120': 379.6,
        '1121': 43.7,
        '1122': 43.7,
        '1123': 48.5,
        '1124': 48.5,
        '1125': 119,
        '1126': 600,
        '1127': 261,
        '1128': 244,
        '1129': 254,
        '1130': 327,
        '1131': 168,
        '1132': 236,
        '1133': 167,
        '1134': 168,
        '1135': 600,
        '1136': 865.5,
        '1137': 600,
        '1138': 52,
        '1139': 99,
        '1140': 99,
        '1141': 105,
        '1142': 105,
        '1143': 173,
        '1144': 311,
        '1145': 419,
        '1146': 275,
        '1147': 550,
        '1148': 600,
        '1149': 225,
        '1150': 57.5,
        '1151': 57.5,
        '1152': 60,
        '1153': 370,
        '1154': 495,
        '1155': 423,
        '1156': 369,
        '1157': 140,
        '1158': 81,
        '1159': 81,
        '1160': 455,
        '1161': 311,
        '1162': 600,
        '1163': 353,
        '1164': 461,
        '1165': 586,
        '1166': 310,
        '1167': 365,
        '1168': 317,
        '1169': 453,
        '1170': 600,
        '1171': 52,
        '1172': 83,
        '1173': 83,
        '1174': 88.5,
        '1175': 88.5,
        '1176': 322,
        '1177': 308,
        '1178': 415,
        '1179': 505,
        '1180': 964,
        '1181': 965,
        '1182': 695,
        '1183': 486,
        '1184': 569,
        '1185': 256,
        '1186': 600,
        '1187': 240,
        '1188': 535,
        '1189': 500,
        '1190': 530,
        '1191': 931,
        '1192': 634,
        '1193': 1390,
        '1194': 579,
        '1195': 894,
        '1196': 894,
        '1197': 971,
        '1198': 292,
        '1199': 304,
        '1200': 67,
        '1201': 67,
        '1202': 112,
        '1203': 63,
        '1204': 600,
        '1205': 63,
        '1206': 112,
        '1207': 67.5,
        '1208': 67.5,
        '1209': 131,
        '1210': 261,
        '1211': 292,
        '1212': 583,
        '1213': 237,
        '1214': 205,
        '1215': 222,
        '1216': 268,
        '1217': 600,
        '1218': 81,
        '1219': 207,
        '1220': 294,
        '1221': 290,
        '1222': 250,
        '1223': 295,
        '1224': 444,
        '1225': 655,
        '1226': 189,
        '1227': 217,
        '1228': 247,
        '1229': 299,
        '1230': 600,
        '1231': 74,
        '1232': 45.5,
        '1233': 45.5,
        '1234': 46,
        '1235': 46,
        '1236': 246,
        '1237': 262,
        '1238': 182,
        '1239': 184,
        '1240': 180,
        '1241': 148,
        '1242': 421,
        '1243': 418,
        '1244': 280,
        '1245': 59,
        '1246': 600,
        '1247': 60,
        '1248': 69.5,
        '1249': 69.5,
        '1250': 185,
        '1251': 300,
        '1252': 296,
        '1253': 246,
        '1254': 144,
        '1255': 453,
        '1256': 570,
        '1257': 997,
        '1258': 651,
        '1259': 739,
        '1260': 740,
        '1261': 258,
        '1262': 266,
        '1263': 258,
        '1264': 102,
        '1265': 600,
        '1266': 59,
        '1267': 46,
        '1268': 46,
        '1269': 46,
        '1270': 46,
        '1271': 265,
        '1272': 265,
        '1273': 252,
        '1274': 252,
        '1275': 262,
        '1276': 981,
        '1277': 894,
        '1278': 184,
        '1279': 211,
        '1280': 267,
        '1281': 92,
        '1282': 69,
        '1283': 69,
        '1284': 48,
        '1285': 600,
        '1286': 193,
        '1287': 190,
        '1288': 344,
        '1289': 356,
        '1290': 697,
        '1291': 963,
        '1292': 550,
        '1293': 825,
        '1294': 826,
        '1295': 735,
        '1296': 417,
        '1297': 362,
        '1298': 600,
        '1299': 60,
        '1300': 78.5,
        '1301': 78.5,
        '1302': 84.805,
        '1303': 84.805,
        '1304': 440.39,
        '1305': 362,
        '1306': 95,
        '1307': 170,
        '1308': 353,
        '1309': 359,
        '1310': 600,
        '1311': 149,
        '1312': 271,
        '1313': 397,
        '1314': 83,
        '1315': 48,
        '1316': 48,
        '1317': 102,
        '1318': 43.5,
        '1319': 43.5,
        '1320': 49,
        '1321': 49,
        '1322': 118,
        '1323': 600,
        '1324': 358,
        '1325': 685,
        '1326': 175,
        '1327': 178,
        '1328': 185,
        '1329': 244,
        '1330': 600,
        '1378': 188,
        '1379': 149,
        '1380': 172,
        '1381': 188,
        '1382': 171,
        '1383': 93,
        '1384': 600,
        '1385': 275,
        '1386': 253,
        '1387': 46,
        '1388': 46,
        '1389': 45.5,
        '1390': 45.5,
        '1391': 242,
        '1392': 463,
        '1393': 600,
        '1394': 305,
        '1395': 234,
        '1396': 425,
        '1397': 421,
        '1398': 449,
        '1399': 210,
        '1400': 600,
        '1401': 306,
        '1402': 405,
        '1403': 279,
        '1404': 116,
        '1405': 50,
        '1406': 600,
        '1407': 68,
        '1408': 76,
        '1409': 76,
        '1410': 76,
        '1411': 76,
        '1412': 105,
        '1413': 638,
        '1414': 316,
        '1415': 267,
        '1416': 344,
        '1417': 410,
        '1418': 600,
        '1419': 511,
        '1420': 414,
        '1421': 337,
        '1422': 359,
        '1423': 482,
        '1424': 600,
        '1425': 59,
        '1426': 76,
        '1427': 76,
        '1428': 76,
        '1429': 76,
        '1430': 578,
        '1431': 149,
        '1432': 392,
        '1433': 508,
        '1434': 379,
        '1435': 320,
        '1436': 600,
        '1437': 484,
        '1438': 430,
        '1439': 453,
        '1440': 512,
        '1441': 634,
        '1442': 637,
        '1443': 600,
        '1444': 716,
        '1445': 224,
        '1446': 496,
        '1447': 589,
        '1448': 384,
        '1449': 692,
        '1450': 727,
        '1451': 1026,
        '1452': 1111,
        '1453': 42.5,
        '1454': 42.5,
        '1455': 91,
        '1456': 672,
        '1457': 91,
        '1458': 45.5,
        '1459': 45.5,
        '1460': 121,
        '1461': 57.5,
        '1462': 57.5,
        '1463': 149,
        '1464': 132,
        '1465': 902,
        '1466': 226,
        '1467': 289,
        '1468': 173,
        '1469': 146,
        '1470': 153,
        '1471': 234,
        '1472': 267,
        '1473': 281,
        '1474': 241,
        '1475': 600,
        '1476': 182,
        '1477': 178,
        '1478': 227,
        '1479': 188,
        '1480': 366,
        '1481': 490,
        '1482': 517,
        '1483': 662,
        '1484': 330,
        '1485': 490,
        '1486': 433,
        '1487': 600,
        '1488': 367,
        '1489': 500,
        '1490': 694,
        '1491': 363.73,
        '1492': 1177.27,
        '1493': 515,
        '1494': 370,
        '1495': 422,
        '1496': 172,
        '1497': 171,
        '1498': 246,
        '1499': 198,
        '1500': 600,
        '1501': 59,
        '1502': 91.5,
        '1503': 91.5,
        '1504': 102.5,
        '1505': 102.5,
        '1506': 224,
        '1507': 450,
        '1508': 584,
        '1509': 766,
        '1510': 890,
        '1511': 1345,
        '1512': 922,
        '1513': 1443,
        '1514': 382,
        '1515': 201,
        '1516': 295,
        '1517': 239,
        '1518': 232,
        '1519': 256,
        '1520': 240,
        '1521': 149,
        '1522': 600,
        '1523': 255,
        '1524': 267,
        '1525': 377,
        '1526': 336,
        '1527': 771,
        '1528': 1012,
        '1529': 756,
        '1530': 450,
        '1531': 451,
        '1532': 305,
        '1533': 430,
        '1534': 326,
        '1535': 274,
        '1536': 453,
        '1537': 92.5,
        '1538': 92.5,
        '1539': 95,
        '1540': 95,
        '1541': 218,
        '1542': 600,
        '1543': 59,
        '1544': 188,
        '1545': 238,
        '1546': 233,
        '1547': 180,
        '1548': 122,
        '1549': 600,
        '1550': 423,
        '1551': 105,
        '1552': 46,
        '1553': 46,
        '1554': 45.5,
        '1555': 45.5,
        '1556': 370,
        '1557': 174,
        '1558': 161,
        '1559': 600,
        '1560': 206,
        '1561': 328,
        '1562': 156,
        '1563': 465,
        '1564': 256,
        '1565': 156,
        '1566': 240,
        '1567': 237,
        '1568': 600,
        '1569': 193,
        '1570': 301,
        '1571': 197,
        '1572': 182,
        '1573': 158,
        '1574': 125,
        '1575': 600,
        '1576': 68,
        '1577': 76,
        '1578': 76,
        '1579': 76,
        '1580': 76,
        '1581': 201,
        '1582': 351,
        '1583': 191,
        '1584': 219,
        '1585': 196,
        '1586': 323,
        '1587': 262,
        '1588': 183,
        '1589': 154,
        '1590': 600,
        '1591': 452,
        '1592': 290,
        '1593': 361,
        '1594': 159,
        '1595': 197,
        '1596': 319,
        '1597': 325,
        '1598': 600,
        '1599': 59,
        '1600': 76,
        '1601': 76,
        '1602': 76,
        '1603': 76,
        '1604': 132,
        '1605': 186,
        '1606': 357,
        '1607': 722,
        '1608': 300,
        '1609': 629,
        '1610': 600,
        '1611': 604,
        '1612': 318,
        '1613': 445,
        '1614': 482,
        '1615': 547,
        '1616': 508,
        '1617': 246,
        '1618': 600,
        '1619': 427,
        '1620': 587,
        '1621': 1011,
        '1622': 384,
        '1623': 387,
        '1624': 1058,
        '1625': 1078,
        '1626': 1010,
        '1627': 54,
        '1628': 54,
        '1629': 61,
        '1630': 702,
        '1631': 91,
        '1632': 45.5,
        '1633': 45.5,
        '1634': 121,
        '1635': 57.5,
        '1636': 57.5,
        '1637': 144,
        '1638': 1039,
        '1639': 1138,
        '1640': 324,
        '1641': 287,
        '1642': 261,
        '1643': 600,
        '1644': 341,
        '1645': 269,
        '1646': 216,
        '1647': 199,
        '1648': 211,
        '1649': 396,
        '1650': 398,
        '1651': 628,
        '1652': 482,
        '1653': 358,
        '1654': 197,
        '1655': 229,
        '1656': 139,
        '1657': 600,
        '1658': 214,
        '1659': 408,
        '1660': 447,
        '1661': 228,
        '1662': 264,
        '1663': 157,
        '1664': 206.73,
        '1665': 1189.27,
        '1666': 859,
        '1667': 625,
        '1668': 174,
        '1669': 424,
        '1670': 600,
        '1671': 75,
        '1672': 80,
        '1673': 41,
        '1674': 41,
        '1675': 46.5,
        '1676': 46.5,
        '1677': 111,
        '1678': 639,
        '1679': 625,
        '1680': 752,
        '1681': 905,
        '1682': 1039,
        '1683': 613,
        '1684': 614,
        '1685': 1013,
        '1686': 1013,
        '1687': 435,
        '1688': 277,
        '1689': 270,
        '1690': 221,
        '1691': 213,
        '1692': 600,
        '1693': 60,
        '1694': 198,
        '1695': 202,
        '1696': 215,
        '1697': 136,
        '1698': 195,
        '1699': 224,
        '1700': 685,
        '1701': 1098,
        '1702': 666,
        '1703': 991,
        '1704': 739,
        '1705': 1037,
        '1706': 98.5,
        '1707': 98.5,
        '1708': 92,
        '1709': 92,
        '1710': 224,
        '1711': 600,
        '1712': 59,
        '1744': 201,
        '1745': 611,
        '1746': 584,
        '1747': 575.38,
        '1748': 83.31,
        '1749': 83.31,
        '1750': 83,
        '1751': 83,
        '1752': 81,
        '1753': 600,
        '1754': 83,
        '1755': 57,
        '1756': 57,
        '1757': 101,
        '1758': 296,
        '1759': 492,
        '1760': 94,
        '1761': 50,
        '1762': 50,
        '1763': 647,
        '1764': 600,
        '1765': 424,
        '1766': 407,
        '1767': 708,
        '1768': 83.5,
        '1769': 83.5,
        '1770': 83,
        '1771': 83,
        '1772': 84,
        '1773': 600,
        '1774': 228,
        '1775': 590,
        '1776': 665,
        '1777': 686,
        '1778': 599,
        '1779': 520,
        '1780': 368,
        '1781': 459,
        '1782': 600,
        '1783': 293,
        '1784': 420,
        '1785': 540,
        '1786': 638,
        '1787': 690,
        '1788': 290,
        '1789': 420,
        '1790': 277,
        '1791': 105,
        '1792': 105,
        '1793': 116.5,
        '1794': 116.5,
        '1795': 127,
        '1796': 600,
        '1797': 495,
        '1798': 645,
        '1799': 737,
        '1800': 988,
        '1801': 828,
        '1802': 492,
        '1803': 835,
        '1804': 665,
        '1805': 672,
        '1806': 752,
        '1807': 366,
        '1808': 507,
        '1809': 600,
        '1810': 393,
        '1811': 636,
        '1812': 113,
        '1813': 48.5,
        '1814': 48.5,
        '1815': 685,
        '1816': 77.5,
        '1817': 77.5,
        '1818': 77,
        '1819': 77,
        '1820': 59,
        '1821': 701,
        '1822': 1000,
        '1823': 960,
        '1824': 1240,
        '1825': 700,
        '1826': 412,
        '1827': 438,
        '1828': 410,
        '1829': 240,
        '1830': 600,
        '1831': 400,
        '1832': 415,
        '1833': 600,
        '1834': 935,
        '1835': 575,
        '1836': 525,
        '1837': 635,
        '1838': 475,
        '1839': 240,
        '1840': 945,
        '1841': 55,
        '1842': 60,
        '1843': 60,
        '1844': 56.5,
        '1845': 56.5,
        '1846': 417,
        '1847': 350,
        '1848': 336,
        '1849': 354,
        '1850': 600,
        '1851': 345,
        '1852': 565,
        '1853': 550,
        '1854': 155,
        '1855': 1095,
        '1856': 1000,
        '1857': 435,
        '1858': 565,
        '1859': 900,
        '1860': 510,
        '1861': 654,
        '1862': 936,
        '1863': 547,
        '1864': 553,
        '1865': 508,
        '1866': 89,
        '1867': 89,
        '1868': 87.5,
        '1869': 87.5,
        '1870': 61,
        '1871': 600,
        '1872': 378,
        '1873': 300,
        '1874': 446,
        '1875': 604,
        '1876': 1110,
        '1877': 640,
        '1878': 760,
        '1879': 840,
        '1880': 550,
        '1881': 750,
        '1882': 638,
        '1883': 662,
        '1884': 680,
        '1885': 820,
        '1886': 950,
        '1887': 1000,
        '1888': 773,
        '1889': 105,
        '1890': 105,
        '1891': 107,
        '1892': 107,
        '1893': 53,
        '1894': 600,
        '1895': 184,
        '1896': 316,
        '1897': 500,
        '1898': 488,
        '1899': 600,
        '1900': 276,
        '1901': 295,
        '1902': 495,
        '1903': 270,
        '1904': 325,
        '1905': 310,
        '1906': 83.5,
        '1907': 83.5,
        '1908': 83,
        '1909': 83,
        '1910': 81,
        '1911': 600,
        '1912': 96,
        '1913': 50.5,
        '1914': 50.5,
        '1915': 101,
        '1916': 424,
        '1917': 357,
        '1918': 101,
        '1919': 50,
        '1920': 50,
        '1921': 394,
        '1922': 253,
        '1923': 600,
        '1924': 604,
        '1925': 390,
        '1926': 486,
        '1927': 113,
        '1928': 113,
        '1929': 83,
        '1930': 83,
        '1931': 84,
        '1932': 600,
        '1933': 468,
        '1934': 380,
        '1935': 487,
        '1936': 284,
        '1937': 546,
        '1938': 423,
        '1939': 680,
        '1940': 205,
        '1941': 642,
        '1942': 600,
        '1943': 301,
        '1944': 412,
        '1945': 530,
        '1946': 666,
        '1947': 584,
        '1948': 255,
        '1949': 470,
        '1950': 352,
        '1951': 105,
        '1952': 105,
        '1953': 103,
        '1954': 103,
        '1955': 152,
        '1956': 600,
        '1957': 245,
        '1958': 240,
        '1959': 140,
        '1960': 350,
        '1961': 360,
        '1962': 230,
        '1963': 312,
        '1964': 648,
        '1965': 1168,
        '1966': 1167,
        '1967': 1512,
        '1968': 737,
        '1969': 366,
        '1970': 497,
        '1971': 610,
        '1972': 193,
        '1973': 890,
        '1974': 157,
        '1975': 683,
        '1976': 77,
        '1977': 77,
        '1978': 78,
        '1979': 78,
        '1980': 59,
        '1981': 701,
        '1982': 600,
        '1983': 700,
        '1984': 660,
        '1985': 1240,
        '1986': 700,
        '1987': 412,
        '1988': 438,
        '1989': 410,
        '1990': 660,
        '1991': 995,
        '1992': 600,
        '1993': 385,
        '1994': 550,
        '1995': 1100,
        '1996': 635,
        '1997': 475,
        '1998': 940,
        '1999': 271,
        '2000': 53.92,
        '2001': 47.54,
        '2002': 47.54,
        '2003': 55.5,
        '2004': 55.5,
        '2005': 419,
        '2006': 450,
        '2007': 236,
        '2008': 354,
        '2009': 600,
        '2010': 345,
        '2011': 365,
        '2012': 890,
        '2013': 310,
        '2014': 500,
        '2015': 900,
        '2016': 835,
        '2017': 565,
        '2018': 900,
        '2019': 510,
        '2020': 687,
        '2021': 903,
        '2022': 547,
        '2023': 553,
        '2024': 518,
        '2025': 84,
        '2026': 84,
        '2027': 84,
        '2028': 84,
        '2029': 68,
        '2030': 600,
        '2031': 598,
        '2032': 526,
        '2033': 754,
        '2034': 960,
        '2035': 640,
        '2036': 760,
        '2037': 840,
        '2038': 550,
        '2039': 750,
        '2040': 638,
        '2041': 662,
        '2042': 680,
        '2043': 820,
        '2044': 950,
        '2045': 999.64,
        '2046': 193.34,
        '2047': 193.34,
        '2048': 193.34,
        '2049': 193.34,
        '2050': 105,
        '2051': 105,
        '2052': 105.5,
        '2053': 105.5,
        '2054': 56,
        '2055': 600,
        '2056': 190,
        '2057': 310,
        '2058': 500,
        '2059': 492,
        '2117': 320,
        '2118': 600,
        '2119': 139,
        '2120': 100.25,
        '2121': 100.25,
        '2122': 101.75,
        '2123': 101.75,
        '2124': 756,
        '2125': 623,
        '2126': 827,
        '2127': 828,
        '2128': 1232,
        '2129': 657,
        '2130': 1389,
        '2131': 414,
        '2132': 230,
        '2133': 343,
        '2134': 587,
        '2135': 120,
        '2136': 600,
        '2137': 209,
        '2138': 359,
        '2139': 742,
        '2140': 753,
        '2141': 747,
        '2142': 390,
        '2143': 700,
        '2144': 827,
        '2145': 367,
        '2146': 391,
        '2147': 448,
        '2148': 585,
        '2149': 101.5,
        '2150': 101.5,
        '2151': 101.5,
        '2152': 101.5,
        '2153': 111,
        '2154': 600,
        '2155': 225,
        '2156': 659,
        '2157': 581,
        '2158': 360,
        '2159': 520,
        '2160': 859,
        '2161': 458,
        '2162': 151,
        '2163': 552,
        '2164': 370,
        '2165': 170,
        '2166': 210,
        '2167': 300,
        '2168': 240,
        '2169': 345,
        '2170': 600,
        '2171': 125,
        '2172': 101.5,
        '2173': 101.5,
        '2174': 62.5,
        '2175': 62.5,
        '2176': 340,
        '2177': 517,
        '2178': 475,
        '2179': 1420,
        '2180': 630,
        '2181': 730,
        '2182': 380,
        '2183': 600,
        '2184': 560,
        '2185': 400,
        '2186': 720,
        '2187': 1147,
        '2188': 558,
        '2189': 634,
        '2190': 401,
        '2191': 265,
        '2192': 635,
        '2193': 511.2,
        '2194': 88.9,
        '2195': 88.9,
        '2196': 86.145,
        '2197': 86.145,
        '2198': 54.71,
        '2199': 600,
        '2200': 434,
        '2201': 830,
        '2202': 1500,
        '2203': 937,
        '2204': 523,
        '2205': 520,
        '2206': 485,
        '2207': 346,
        '2208': 600,
        '2209': 60,
        '2210': 83,
        '2211': 83,
        '2212': 85.5,
        '2213': 85.5,
        '2214': 467,
        '2215': 480,
        '2216': 575,
        '2217': 404,
        '2218': 403,
        '2219': 600,
        '2220': 258,
        '2221': 475,
        '2222': 320,
        '2223': 770,
        '2224': 399,
        '2225': 566,
        '2226': 471,
        '2227': 148,
        '2228': 74.5,
        '2229': 74.5,
        '2230': 51,
        '2231': 600,
        '2232': 52,
        '2233': 49.5,
        '2234': 49.5,
        '2235': 55.5,
        '2236': 55.5,
        '2237': 474,
        '2238': 565,
        '2239': 610,
        '2240': 440,
        '2241': 600,
        '2242': 240,
        '2243': 345,
        '2244': 455,
        '2245': 239.17,
        '2246': 600,
        '2254': 318,
        '2255': 600,
        '2256': 140,
        '2257': 100.25,
        '2258': 100.25,
        '2259': 101.75,
        '2260': 101.75,
        '2261': 529,
        '2262': 850,
        '2263': 827,
        '2264': 829,
        '2265': 941,
        '2266': 945,
        '2267': 1220,
        '2268': 585,
        '2269': 630,
        '2270': 530,
        '2271': 120,
        '2272': 600,
        '2273': 657,
        '2274': 366,
        '2275': 287,
        '2276': 130,
        '2277': 485,
        '2278': 395,
        '2279': 531,
        '2280': 349,
        '2281': 968,
        '2282': 943,
        '2283': 669,
        '2284': 530,
        '2285': 208,
        '2286': 101.25,
        '2287': 101.25,
        '2288': 101.75,
        '2289': 101.75,
        '2290': 111,
        '2291': 600,
        '2292': 445,
        '2293': 419,
        '2294': 581,
        '2295': 345,
        '2296': 545,
        '2297': 731,
        '2298': 747,
        '2299': 887,
        '2300': 485,
        '2301': 470,
        '2302': 345,
        '2303': 600,
        '2304': 123,
        '2305': 75,
        '2306': 75,
        '2307': 90,
        '2308': 90,
        '2309': 410,
        '2310': 432,
        '2311': 1021,
        '2312': 889,
        '2313': 415,
        '2314': 605,
        '2315': 335,
        '2316': 385,
        '2317': 600,
        '2318': 500,
        '2319': 120,
        '2320': 340,
        '2321': 460,
        '2322': 1035,
        '2323': 930,
        '2324': 635,
        '2325': 665,
        '2326': 635,
        '2327': 501,
        '2328': 93.5,
        '2329': 93.5,
        '2330': 87,
        '2331': 87,
        '2332': 54,
        '2333': 600,
        '2334': 294,
        '2335': 375,
        '2336': 600,
        '2337': 1008,
        '2338': 1490,
        '2339': 667,
        '2340': 700,
        '2341': 441,
        '2342': 600,
        '2343': 60,
        '2344': 83,
        '2345': 83,
        '2346': 85.5,
        '2347': 85.5,
        '2348': 472,
        '2349': 475,
        '2350': 610,
        '2351': 772,
        '2352': 600,
        '2353': 233,
        '2354': 490,
        '2355': 660,
        '2356': 440,
        '2357': 555,
        '2358': 560,
        '2359': 321,
        '2360': 148,
        '2361': 75.5,
        '2362': 75.5,
        '2363': 49,
        '2364': 600,
        '2365': 52,
        '2366': 49.5,
        '2367': 49.5,
        '2368': 55,
        '2369': 55,
        '2370': 385,
        '2371': 376,
        '2372': 279,
        '2373': 319,
        '2374': 546,
        '2375': 185,
        '2376': 600,
        '2377': 158,
        '2378': 387,
        '2379': 463,
        '2380': 272,
        '2409': 109.04,
        '2410': 149,
        '2411': 834,
        '2412': 1232,
        '2413': 611,
        '2414': 478,
        '2415': 384,
        '2416': 592,
        '2417': 680,
        '2418': 360,
        '2419': 244,
        '2420': 600,
        '2421': 436,
        '2422': 412,
        '2423': 371,
        '2424': 1159,
        '2425': 748,
        '2426': 778,
        '2427': 967,
        '2428': 263,
        '2429': 476,
        '2430': 292,
        '2431': 626,
        '2432': 475,
        '2433': 176,
        '2434': 600,
        '2435': 657,
        '2436': 444,
        '2437': 557,
        '2438': 472,
        '2439': 410,
        '2440': 548,
        '2441': 299,
        '2442': 245,
        '2443': 489,
        '2444': 101.5,
        '2445': 101.5,
        '2446': 101,
        '2447': 101,
        '2448': 89,
        '2449': 600,
        '2450': 245,
        '2451': 276,
        '2452': 521,
        '2453': 447,
        '2454': 436,
        '2455': 950,
        '2456': 950,
        '2457': 800,
        '2458': 755,
        '2459': 445,
        '2460': 410,
        '2461': 170,
        '2462': 285,
        '2463': 335,
        '2464': 105,
        '2465': 105,
        '2466': 105.5,
        '2467': 105.5,
        '2468': 59,
        '2469': 600,
        '2470': 260,
        '2471': 510,
        '2472': 410,
        '2473': 430,
        '2474': 910,
        '2475': 700,
        '2476': 900,
        '2477': 650,
        '2478': 240,
        '2479': 365,
        '2480': 195,
        '2481': 607,
        '2482': 107.5,
        '2483': 107.5,
        '2484': 104,
        '2485': 104,
        '2486': 56,
        '2487': 600,
        '2488': 534,
        '2489': 457,
        '2490': 199,
        '2491': 49,
        '2492': 49,
        '2493': 54,
        '2494': 54,
        '2495': 109.04,
        '2496': 139,
        '2497': 313,
        '2498': 531,
        '2499': 920,
        '2500': 902,
        '2501': 1123,
        '2502': 740,
        '2503': 395,
        '2504': 235,
        '2505': 266,
        '2506': 600,
        '2507': 443,
        '2508': 276,
        '2509': 269,
        '2510': 357,
        '2511': 545,
        '2512': 488,
        '2513': 990,
        '2514': 536,
        '2515': 664,
        '2516': 566,
        '2517': 899,
        '2518': 429,
        '2519': 222,
        '2520': 495,
        '2521': 600,
        '2522': 163,
        '2523': 380,
        '2524': 395,
        '2525': 385,
        '2526': 335,
        '2527': 477,
        '2528': 405,
        '2529': 538,
        '2530': 462,
        '2531': 582,
        '2532': 101,
        '2533': 101,
        '2534': 100.5,
        '2535': 100.5,
        '2536': 90,
        '2537': 600,
        '2538': 303,
        '2539': 355,
        '2540': 392,
        '2541': 273,
        '2542': 610,
        '2543': 590,
        '2544': 400,
        '2545': 902,
        '2546': 690,
        '2547': 703,
        '2548': 607,
        '2549': 400,
        '2550': 590,
        '2551': 209,
        '2552': 105.5,
        '2553': 105.5,
        '2554': 105.5,
        '2555': 105.5,
        '2556': 59,
        '2557': 600,
        '2558': 232,
        '2559': 513,
        '2560': 495,
        '2561': 370,
        '2562': 760,
        '2563': 850,
        '2564': 450,
        '2565': 647,
        '2566': 453,
        '2567': 742,
        '2568': 653,
        '2569': 116,
        '2570': 116,
        '2571': 100.5,
        '2572': 100.5,
        '2573': 58,
        '2574': 600,
        '2575': 534,
        '2576': 457,
        '2577': 66,
        '2578': 66,
        '2579': 97,
        '2599': 933.5,
        '2600': 83,
        '2601': 65,
        '2602': 65,
        '2603': 56,
        '2604': 600,
        '2605': 109,
        '2606': 105,
        '2607': 105,
        '2608': 97,
        '2609': 97,
        '2610': 724,
        '2611': 716,
        '2612': 725,
        '2613': 737,
        '2614': 731,
        '2615': 731,
        '2616': 734,
        '2617': 734,
        '2618': 734,
        '2619': 734,
        '2620': 746,
        '2621': 745,
        '2622': 658,
        '2623': 1000,
        '2624': 840,
        '2625': 840,
        '2626': 846,
        '2627': 845,
        '2628': 919,
        '2629': 610,
        '2630': 730,
        '2631': 465,
        '2632': 575,
        '2633': 460,
        '2634': 600,
        '2635': 66,
        '2636': 89,
        '2637': 89,
        '2638': 88.5,
        '2639': 88.5,
        '2640': 469,
        '2641': 164,
        '2642': 846,
        '2643': 940,
        '2644': 1000,
        '2645': 1000,
        '2646': 1000,
        '2647': 1000,
        '2648': 1005,
        '2649': 995,
        '2650': 660,
        '2651': 540,
        '2652': 350,
        '2653': 450,
        '2654': 225,
        '2655': 275,
        '2656': 600,
        '2657': 143,
        '2658': 53.5,
        '2659': 53.5,
        '2660': 89,
        '2661': 436,
        '2662': 225,
        '2663': 405,
        '2664': 635,
        '2665': 1044,
        '2666': 50,
        '2667': 57,
        '2668': 57,
        '2669': 490,
        '2670': 1552,
        '2671': 1336,
        '2672': 151,
        '2673': 88.07,
        '2674': 948,
        '2675': 84,
        '2676': 64.5,
        '2677': 64.5,
        '2678': 57,
        '2679': 600,
        '2680': 109,
        '2681': 105,
        '2682': 105,
        '2683': 105,
        '2684': 105,
        '2685': 708,
        '2686': 716,
        '2687': 725,
        '2688': 737,
        '2689': 731,
        '2690': 731,
        '2691': 734,
        '2692': 734,
        '2693': 734,
        '2694': 734,
        '2695': 746,
        '2696': 745,
        '2697': 658,
        '2698': 1000,
        '2699': 840,
        '2700': 840,
        '2701': 846,
        '2702': 845,
        '2703': 919,
        '2704': 610,
        '2705': 710,
        '2706': 760,
        '2707': 290,
        '2708': 470,
        '2709': 600,
        '2710': 66,
        '2711': 89,
        '2712': 89,
        '2713': 88.5,
        '2714': 88.5,
        '2715': 469,
        '2716': 330,
        '2717': 680,
        '2718': 540,
        '2719': 400,
        '2720': 1000,
        '2721': 1000,
        '2722': 1005,
        '2723': 995,
        '2724': 1000,
        '2725': 1000,
        '2726': 660,
        '2727': 230,
        '2728': 575,
        '2729': 235,
        '2730': 365,
        '2731': 435,
        '2732': 600,
        '2733': 143,
        '2734': 53.5,
        '2735': 53.5,
        '2736': 98,
        '2737': 152,
        '2738': 400,
        '2739': 425,
        '2740': 715,
        '2741': 360,
        '2742': 684,
        '2743': 83,
        '2744': 40.5,
        '2745': 40.5,
        '2746': 802,
        '2747': 230,
        '2748': 596,
        '2749': 414,
        '2750': 1336,
        '2751': 141,
        '2752': 97.4,
        '2769': 616.19,
        '2770': 55,
        '2771': 626,
        '2772': 625,
        '2773': 145,
        '2774': 600,
        '2775': 53,
        '2776': 104.5,
        '2777': 104.5,
        '2778': 105,
        '2779': 105,
        '2780': 368,
        '2781': 710,
        '2782': 917,
        '2783': 917,
        '2784': 919,
        '2785': 920,
        '2786': 790,
        '2787': 790,
        '2788': 797,
        '2789': 792,
        '2790': 746,
        '2791': 1177,
        '2792': 665,
        '2793': 558,
        '2794': 501,
        '2795': 525,
        '2796': 600,
        '2797': 462,
        '2798': 682,
        '2799': 1349,
        '2800': 901,
        '2801': 887,
        '2802': 1111,
        '2803': 600,
        '2804': 851,
        '2805': 860,
        '2806': 549,
        '2807': 1493,
        '2808': 423,
        '2809': 521,
        '2810': 393,
        '2811': 603,
        '2812': 54.5,
        '2813': 54.5,
        '2814': 56,
        '2815': 56,
        '2816': 175,
        '2817': 600,
        '2818': 158,
        '2819': 567,
        '2820': 132,
        '2821': 67,
        '2822': 67,
        '2823': 322,
        '2824': 156,
        '2825': 154,
        '2826': 720,
        '2827': 405,
        '2828': 151,
        '2829': 75.5,
        '2830': 75.5,
        '2831': 51,
        '2832': 68,
        '2833': 68,
        '2834': 68,
        '2835': 68,
        '2836': 1070,
        '2837': 915,
        '2838': 1126,
        '2839': 1125,
        '2840': 1256,
        '2841': 531,
        '2842': 517,
        '2843': 426,
        '2844': 600,
        '2845': 331,
        '2846': 88.5,
        '2847': 88.5,
        '2848': 88.5,
        '2849': 88.5,
        '2850': 564,
        '2851': 796,
        '2852': 870,
        '2853': 870,
        '2854': 900,
        '2855': 893,
        '2856': 817,
        '2857': 816,
        '2858': 822,
        '2859': 980,
        '2860': 719,
        '2861': 1069,
        '2862': 298,
        '2863': 219,
        '2864': 205,
        '2865': 240,
        '2866': 125,
        '2867': 143,
        '2868': 259,
        '2869': 259,
        '2870': 600,
        '2871': 109,
        '2872': 65,
        '2873': 65,
        '2874': 55.5,
        '2875': 55.5,
        '2876': 132,
        '2877': 247,
        '2878': 223,
        '2879': 117,
        '2880': 218,
        '2881': 219,
        '2882': 218,
        '2883': 217,
        '2884': 216,
        '2885': 217,
        '2886': 600,
        '2887': 54,
        '2888': 219,
        '2889': 212,
        '2890': 204,
        '2891': 137,
        '2892': 210,
        '2893': 207,
        '2894': 173,
        '2895': 153,
        '2896': 112,
        '2897': 191,
        '2898': 600,
        '2899': 51,
        '2900': 50,
        '2901': 50,
        '2902': 56,
        '2903': 56,
        '2904': 160,
        '2905': 168,
        '2906': 128,
        '2907': 160,
        '2908': 184,
        '2909': 503,
        '2910': 520,
        '2911': 614,
        '2912': 156,
        '2913': 298,
        '2914': 629,
        '2915': 409,
        '2916': 449,
        '2917': 373,
        '2918': 265,
        '2919': 547,
        '2920': 347,
        '2921': 325,
        '2922': 248,
        '2923': 262,
        '2924': 213,
        '2925': 278,
        '2926': 116,
        '2927': 91.71,
        '2928': 616.19,
        '2929': 51,
        '2930': 626,
        '2931': 625,
        '2932': 149,
        '2933': 600,
        '2934': 53,
        '2935': 104.5,
        '2936': 104.5,
        '2937': 105,
        '2938': 105,
        '2939': 571,
        '2940': 487,
        '2941': 358,
        '2942': 1496,
        '2943': 564,
        '2944': 1275,
        '2945': 790,
        '2946': 790,
        '2947': 1000,
        '2948': 597,
        '2949': 967,
        '2950': 964,
        '2951': 1102,
        '2952': 606,
        '2953': 525,
        '2954': 600,
        '2955': 264,
        '2956': 560,
        '2957': 435,
        '2958': 431,
        '2959': 803,
        '2960': 894,
        '2961': 894,
        '2962': 856,
        '2963': 855,
        '2964': 957,
        '2965': 754,
        '2966': 1031,
        '2967': 1031,
        '2968': 675,
        '2969': 679,
        '2970': 566,
        '2971': 54.5,
        '2972': 54.5,
        '2973': 56,
        '2974': 56,
        '2975': 175,
        '2976': 600,
        '2977': 725,
        '2978': 137,
        '2979': 70,
        '2980': 70,
        '2981': 311,
        '2982': 156,
        '2983': 154,
        '2984': 698,
        '2985': 427,
        '2986': 151,
        '2987': 75.5,
        '2988': 75.5,
        '2989': 39,
        '2990': 74,
        '2991': 74,
        '2992': 68,
        '2993': 68,
        '2994': 915,
        '2995': 1070,
        '2996': 1025,
        '2997': 1226,
        '2998': 1258,
        '2999': 529,
        '3000': 943,
        '3001': 600,
        '3002': 331,
        '3003': 88.5,
        '3004': 88.5,
        '3005': 88.5,
        '3006': 88.5,
        '3007': 734,
        '3008': 627,
        '3009': 1058,
        '3010': 681,
        '3011': 897,
        '3012': 896,
        '3013': 816,
        '3014': 817,
        '3015': 813,
        '3016': 989,
        '3017': 724,
        '3018': 1064,
        '3019': 633,
        '3020': 454,
        '3021': 382,
        '3022': 279,
        '3023': 600,
        '3024': 116,
        '3025': 61.5,
        '3026': 61.5,
        '3027': 64,
        '3028': 64,
        '3029': 262,
        '3030': 298,
        '3031': 298,
        '3032': 292,
        '3033': 186,
        '3034': 268,
        '3035': 221,
        '3036': 182,
        '3037': 600,
        '3038': 131,
        '3039': 126,
        '3040': 257,
        '3041': 212,
        '3042': 155,
        '3043': 202,
        '3044': 163,
        '3045': 146,
        '3046': 206,
        '3047': 274,
        '3048': 600,
        '3049': 51,
        '3050': 50,
        '3051': 50,
        '3052': 56,
        '3053': 56,
        '3054': 251,
        '3055': 185,
        '3056': 178,
        '3057': 354,
        '3058': 248,
        '3059': 310,
        '3060': 297,
        '3061': 600,
        '3062': 113,
        '3063': 348,
        '3064': 289,
        '3065': 330,
        '3066': 328,
        '3067': 595,
        '3068': 590,
        '3069': 1064,
        '3070': 403,
        '3071': 147,
        '3072': 193,
        '3073': 185,
        '3074': 285,
        '3075': 92,
        '3076': 131.55,
        '3105': 195.24,
        '3106': 265.1,
        '3107': 377.19,
        '3108': 58.415,
        '3109': 107.26,
        '3110': 1360,
        '3111': 1045,
        '3112': 715,
        '3113': 675,
        '3114': 1093,
        '3115': 709,
        '3116': 1085,
        '3117': 808,
        '3118': 850,
        '3119': 910,
        '3120': 515,
        '3121': 201,
        '3122': 148,
        '3123': 134.71,
        '3124': 160.64,
        '3125': 600.17,
        '3126': 85.03,
        '3127': 54.26,
        '3128': 301,
        '3129': 224,
        '3130': 941,
        '3131': 800,
        '3132': 960,
        '3133': 750,
        '3134': 751,
        '3135': 267,
        '3136': 1173,
        '3137': 621,
        '3138': 958,
        '3139': 700,
        '3140': 572,
        '3141': 300,
        '3142': 502,
        '3143': 252,
        '3144': 148,
        '3145': 134.71,
        '3146': 1064,
        '3147': 79.75,
        '3148': 79.75,
        '3149': 159.5,
        '3150': 658,
        '3151': 159,
        '3152': 79.5,
        '3153': 79.5,
        '3154': 153,
        '3155': 600,
        '3156': 317,
        '3157': 900,
        '3158': 890,
        '3159': 560,
        '3160': 500,
        '3161': 1060,
        '3162': 979,
        '3163': 977,
        '3164': 67.25,
        '3165': 67.25,
        '3166': 134.5,
        '3167': 134.5,
        '3168': 67.25,
        '3169': 67.25,
        '3170': 799,
        '3171': 387,
        '3172': 400,
        '3173': 805,
        '3174': 804,
        '3175': 976,
        '3176': 975,
        '3177': 1020,
        '3178': 660,
        '3179': 360,
        '3180': 941,
        '3181': 944,
        '3182': 707,
        '3183': 706,
        '3184': 396,
        '3185': 67,
        '3186': 67,
        '3187': 134,
        '3188': 134,
        '3189': 67,
        '3190': 67,
        '3191': 801,
        '3192': 789,
        '3193': 300,
        '3194': 755,
        '3195': 1029,
        '3196': 843,
        '3197': 863,
        '3198': 629,
        '3199': 1021,
        '3200': 825,
        '3201': 415,
        '3202': 410,
        '3203': 478,
        '3204': 747,
        '3205': 591,
        '3206': 602,
        '3207': 60.25,
        '3208': 60.25,
        '3209': 60.25,
        '3210': 60.25,
        '3211': 231,
        '3212': 316,
        '3213': 233,
        '3214': 600,
        '3215': 373,
        '3216': 358,
        '3217': 600,
        '3218': 790,
        '3219': 610,
        '3220': 303,
        '3221': 600,
        '3222': 687,
        '3223': 470,
        '3224': 270,
        '3225': 624,
        '3226': 624,
        '3227': 106,
        '3228': 106,
        '3229': 106,
        '3230': 106,
        '3231': 203,
        '3232': 600,
        '3233': 833,
        '3234': 655,
        '3235': 657,
        '3236': 390,
        '3237': 305,
        '3238': 600,
        '3239': 561,
        '3240': 190,
        '3241': 201,
        '3242': 62.5,
        '3243': 62.5,
        '3244': 62.5,
        '3245': 62.5,
        '3246': 613,
        '3247': 669,
        '3248': 678,
        '3249': 423,
        '3250': 500,
        '3251': 517,
        '3252': 633,
        '3253': 750,
        '3254': 1050,
        '3255': 816,
        '3256': 410,
        '3257': 409,
        '3258': 192,
        '3259': 67,
        '3260': 67,
        '3261': 134,
        '3262': 134,
        '3263': 67,
        '3264': 67,
        '3265': 587,
        '3266': 500,
        '3267': 250,
        '3268': 615,
        '3269': 75,
        '3270': 75,
        '3271': 150,
        '3272': 425,
        '3273': 415,
        '3274': 895,
        '3275': 1026,
        '3276': 844,
        '3277': 850,
        '3278': 158,
        '3279': 164.09,
        '3280': 289.65,
        '3281': 1065,
        '3282': 79.75,
        '3283': 79.75,
        '3284': 159.5,
        '3285': 658,
        '3286': 159,
        '3287': 79.5,
        '3288': 79.5,
        '3289': 153,
        '3290': 600,
        '3291': 317,
        '3292': 779,
        '3293': 389,
        '3294': 390,
        '3295': 232,
        '3296': 498,
        '3297': 562,
        '3298': 1060,
        '3299': 979,
        '3300': 977,
        '3301': 134,
        '3302': 67,
        '3303': 67,
        '3304': 67.5,
        '3305': 67.5,
        '3306': 135,
        '3307': 793,
        '3308': 393,
        '3309': 400,
        '3310': 805,
        '3311': 804,
        '3312': 976,
        '3313': 975,
        '3314': 1020,
        '3315': 660,
        '3316': 360,
        '3317': 943,
        '3318': 942,
        '3319': 906,
        '3320': 903,
        '3321': 134,
        '3322': 67,
        '3323': 67,
        '3324': 67,
        '3325': 67,
        '3326': 134,
        '3327': 259,
        '3328': 699,
        '3329': 632,
        '3330': 300,
        '3331': 585,
        '3332': 884,
        '3333': 351,
        '3334': 835,
        '3335': 835,
        '3336': 638,
        '3337': 650,
        '3338': 362,
        '3339': 825,
        '3340': 415,
        '3341': 410,
        '3342': 694,
        '3343': 531,
        '3344': 595,
        '3345': 598,
        '3346': 60.25,
        '3347': 60.25,
        '3348': 60.25,
        '3349': 60.25,
        '3350': 231,
        '3351': 549,
        '3352': 600,
        '3353': 731,
        '3354': 400,
        '3355': 600,
        '3356': 498,
        '3357': 502,
        '3358': 303,
        '3359': 600,
        '3360': 714,
        '3361': 413,
        '3362': 300,
        '3363': 590,
        '3364': 658,
        '3365': 106,
        '3366': 106,
        '3367': 106,
        '3368': 106,
        '3369': 203,
        '3370': 600,
        '3371': 462,
        '3372': 371,
        '3373': 851,
        '3374': 461,
        '3375': 390,
        '3376': 305,
        '3377': 600,
        '3378': 233,
        '3379': 235,
        '3380': 127,
        '3381': 357,
        '3382': 62.5,
        '3383': 62.5,
        '3384': 62.5,
        '3385': 62.5,
        '3386': 603,
        '3387': 885,
        '3388': 443,
        '3389': 442,
        '3390': 280,
        '3391': 688,
        '3392': 692,
        '3393': 900,
        '3394': 900,
        '3395': 915,
        '3396': 912,
        '3397': 134.5,
        '3398': 67.25,
        '3399': 67.25,
        '3400': 66.75,
        '3401': 66.75,
        '3402': 133.5,
        '3403': 587,
        '3404': 500,
        '3405': 250,
        '3406': 380,
        '3407': 380,
        '3408': 128.5,
        '3409': 128.5,
        '3410': 591,
        '3411': 281,
        '3412': 111,
        '3413': 308,
        '3414': 486,
        '3415': 795,
        '3416': 931,
        '3417': 605,
        '3418': 560,
        '3419': 140,
        '3420': 156.74
      }
    });
  },

  _renderCircuit(drawnCircuits, visitedCircuits, trackCircuit, lastTrackNumber, lastLineCoordinates, neighborType, renderingStage, lastTrackCircuit) {
    const southEastAdditionalStopCircuitIds = [3420, 3280, 3076, 2927, 2409, 2495, 3124, 3105, 3145, 3123];
    const southWestAdditionalStopCircuitIds = [2987, 2829, 1282, 1089, 1249, 1055, 1158, 965, 2361, 2228];
    const northEastAdditionalStopCircuitIds = [1462, 1636];
    const northWestAdditionalStopCircuitIds = [2752, 2673];
    // const step = trackCircuit.get('step') || 32;
    const step = (this.get('magicNumbersMap').get(trackCircuit.get('CircuitId').toString()) || 250) / 25;

    if (lastTrackNumber == null) {
      lastTrackNumber = trackCircuit.get('Track');
    }

    let lineCoordinates = null;

    if (neighborType == null) {
      lineCoordinates = {
        x: lastLineCoordinates.x + step,
        y: lastLineCoordinates.y
      };
    } else {
      const trackNumber = trackCircuit.get('Track');
      if (_.includes(southEastAdditionalStopCircuitIds, trackCircuit.get('CircuitId'))) {
        lineCoordinates = {
          x: lastLineCoordinates.x + 80,
          y: lastLineCoordinates.y + 80
        };
      } else if (_.includes(southWestAdditionalStopCircuitIds, trackCircuit.get('CircuitId'))) {
        lineCoordinates = {
          x: lastLineCoordinates.x - 80,
          y: lastLineCoordinates.y + 80
        };
      } else if (_.includes(northEastAdditionalStopCircuitIds, trackCircuit.get('CircuitId'))) {
        lineCoordinates = {
          x: lastLineCoordinates.x + 80,
          y: lastLineCoordinates.y - 80
        };
      } else if (_.includes(northWestAdditionalStopCircuitIds, trackCircuit.get('CircuitId'))) {
        lineCoordinates = {
          x: lastLineCoordinates.x - 80,
          y: lastLineCoordinates.y - 80
        };
      } else if (neighborType === "Left") {
        if (trackNumber === 0) {
          if (lastTrackNumber === 1) {
            lineCoordinates = {
              x: lastLineCoordinates.x - (step / 2),
              y: lastLineCoordinates.y - (step / 2)
            };
          } else if (lastTrackNumber === 2) {
            lineCoordinates = {
              x: lastLineCoordinates.x - (step / 2),
              y: lastLineCoordinates.y + (step / 2)
            };
          } else {
            console.error('this should never happen');
          }
        } else if (trackNumber === 1 || trackNumber === 2 || trackNumber === 3) {
          lineCoordinates = {
            x: lastLineCoordinates.x - step,
            y: lastLineCoordinates.y
          };
        }
      } else if (neighborType === "Right") {
        if (trackNumber === 0) {
          if (lastTrackNumber === 1) {
            lineCoordinates = {
              x: lastLineCoordinates.x + (step / 2),
              y: lastLineCoordinates.y - (step / 2)
            };
          } else if (lastTrackNumber === 2) {
            lineCoordinates = {
              x: lastLineCoordinates.x + (step / 2),
              y: lastLineCoordinates.y + (step / 2)
            };
          } else {
            console.error('this should never happen');
          }
        } else if (trackNumber === 1 || trackNumber === 2 || trackNumber === 3) {
          lineCoordinates = {
            x: lastLineCoordinates.x + step,
            y: lastLineCoordinates.y
          };
        }
      }
      if (lineCoordinates == null) {
        console.warn("unknown track number [" + trackNumber + "] or neighbor type [" + neighborType + "]");
        return null;
      }
    }

    const borders = [];
    borders.push('0 -1px 0 0 black');
    if (trackCircuit.get('lineCodes')) {
      trackCircuit.get('lineCodes').forEach((lineCode, index) => {
        let borderColor;
        if (lineCode === 'RD') {
          borderColor = '#E51636';
        } else if (lineCode === 'OR') {
          borderColor = '#F68712';
        } else if (lineCode === 'SV') {
          borderColor = '#9D9F9C';
        } else if (lineCode === 'BL') {
          borderColor = '#1574C4';
        } else if (lineCode === 'YL') {
          borderColor = '#FCD006';
        } else if (lineCode === 'GR') {
          borderColor = '#0FAB4B';
        }
        if (borderColor) {
          borders.push('0 -' + ((index + 1) * 4) + 'px 0 0 ' + borderColor);
        }
      });
    }
    const label = trackCircuit.get('stationCode') ? trackCircuit.get('stationCode') + '-' + trackCircuit.get('Track') : null/*trackCircuit.get('CircuitId')*/;
    const tooltipLabel = trackCircuit.get('stationCode') ? `${trackCircuit.get('stationName')} - Track ${trackCircuit.get('Track')}` : null;
    if (!drawnCircuits[trackCircuit.get('CircuitId')]) {
      drawnCircuits[trackCircuit.get('CircuitId')] = (
        <RawLine key={trackCircuit.get('CircuitId')} circuitId={trackCircuit.get('CircuitId')} from={lastLineCoordinates} to={lineCoordinates} tooltipLabel={tooltipLabel}
                 boxShadow={borders.join()} label={label} zIndex={(trackCircuit.get('Track') !== 1 && trackCircuit.get('Track') !== 2) ? 0 : 1} />
      );
    }
    visitedCircuits[trackCircuit.get('CircuitId')] = true;

    const linesToDrawNext = [];
    trackCircuit.get('Neighbors').forEach((neighboringTrackCircuitInfo, index) => {
      neighboringTrackCircuitInfo.get('CircuitIds').forEach((neighboringTrackCircuitId, index) => {
        if (renderingStage === 1) {
          if (!drawnCircuits[neighboringTrackCircuitId] && trackCircuit.get('lineCodes')) {
            linesToDrawNext.push({
              trackCircuit: this.state.get('trackCircuitMap').get(neighboringTrackCircuitId.toString()),
              lastTrackNumber: (trackCircuit.get('Track') === 1 || trackCircuit.get('Track') === 2) ? trackCircuit.get('Track') : lastTrackNumber,
              lastLineCoordinates: neighboringTrackCircuitInfo.get('NeighborType') !== neighborType ? lastLineCoordinates : lineCoordinates,
              neighborType: neighboringTrackCircuitInfo.get('NeighborType')
            });
          }
        } else if (renderingStage === 2) {
          if (!visitedCircuits[neighboringTrackCircuitId]) {
            linesToDrawNext.push({
              trackCircuit: this.state.get('trackCircuitMap').get(neighboringTrackCircuitId.toString()),
              lastTrackNumber: (trackCircuit.get('Track') === 1 || trackCircuit.get('Track') === 2) ? trackCircuit.get('Track') : lastTrackNumber,
              lastLineCoordinates: neighboringTrackCircuitInfo.get('NeighborType') !== neighborType ?
                (drawnCircuits[neighboringTrackCircuitId] ? drawnCircuits[neighboringTrackCircuitId].props.to : lastLineCoordinates) :
                (drawnCircuits[neighboringTrackCircuitId] ? drawnCircuits[neighboringTrackCircuitId].props.from : lineCoordinates),
              neighborType: neighboringTrackCircuitInfo.get('NeighborType')
            });
          }
        } else if (renderingStage === 3) {
          if (drawnCircuits[neighboringTrackCircuitId] && (lastTrackCircuit && neighboringTrackCircuitId !== lastTrackCircuit.get('CircuitId')) && !trackCircuit.get('lineCodes') && !this.state.get('trackCircuitMap').get(neighboringTrackCircuitId.toString()).get('lineCodes')) {
            const circuitFrom = drawnCircuits[trackCircuit.get('CircuitId')].props.from;
            const circuitTo = drawnCircuits[trackCircuit.get('CircuitId')].props.to;
            const neighboringCircuitFrom = drawnCircuits[neighboringTrackCircuitId].props.from;
            const neighboringCircuitTo = drawnCircuits[neighboringTrackCircuitId].props.to;

            let midpoint = null;
            let shortestDistance = 9999999999;
            let finalCircuitFrom = null;
            let finalCircuitTo = null;
            let finalNeighboringCircuitFrom = null;
            let finalNeighboringCircuitTo = null;

            const distance1 = ((circuitFrom.x - neighboringCircuitFrom.x) * (circuitFrom.x - neighboringCircuitFrom.x)) + ((circuitFrom.y - neighboringCircuitFrom.y) * (circuitFrom.y - neighboringCircuitFrom.y));
            const distance2 = ((circuitFrom.x - neighboringCircuitTo.x) * (circuitFrom.x - neighboringCircuitTo.x)) + ((circuitFrom.y - neighboringCircuitTo.y) * (circuitFrom.y - neighboringCircuitTo.y));
            const distance3 = ((circuitTo.x - neighboringCircuitFrom.x) * (circuitTo.x - neighboringCircuitFrom.x)) + ((circuitTo.y - neighboringCircuitFrom.y) * (circuitTo.y - neighboringCircuitFrom.y));
            const distance4 = ((circuitTo.x - neighboringCircuitTo.x) * (circuitTo.x - neighboringCircuitTo.x)) + ((circuitTo.y - neighboringCircuitTo.y) * (circuitTo.y - neighboringCircuitTo.y));
            const distances = [distance1, distance2, distance3, distance4];
            for (let i = 0; i < distances.length; i++) {
              const distance = distances[i];
              if (distance < shortestDistance) {
                shortestDistance = distance;

                if (i === 0) {
                  midpoint = {
                    x: (circuitFrom.x + neighboringCircuitFrom.x) / 2,
                    y: (circuitFrom.y + neighboringCircuitFrom.y) / 2
                  };
                  finalCircuitFrom = midpoint;
                  finalCircuitTo = circuitTo;
                  finalNeighboringCircuitFrom = midpoint;
                  finalNeighboringCircuitTo = neighboringCircuitTo;
                } else if (i === 1) {
                  midpoint = {
                    x: (circuitFrom.x + neighboringCircuitTo.x) / 2,
                    y: (circuitFrom.y + neighboringCircuitTo.y) / 2
                  };
                  finalCircuitFrom = midpoint;
                  finalCircuitTo = circuitTo;
                  finalNeighboringCircuitFrom = neighboringCircuitFrom;
                  finalNeighboringCircuitTo = midpoint;
                } else if (i === 2) {
                  midpoint = {
                    x: (circuitTo.x + neighboringCircuitFrom.x) / 2,
                    y: (circuitTo.y + neighboringCircuitFrom.y) / 2
                  };
                  finalCircuitFrom = circuitFrom;
                  finalCircuitTo = midpoint;
                  finalNeighboringCircuitFrom = midpoint;
                  finalNeighboringCircuitTo = neighboringCircuitTo;
                } else if (i === 3) {
                  midpoint = {
                    x: (circuitTo.x + neighboringCircuitTo.x) / 2,
                    y: (circuitTo.y + neighboringCircuitTo.y) / 2
                  };
                  finalCircuitFrom = circuitFrom;
                  finalCircuitTo = midpoint;
                  finalNeighboringCircuitFrom = neighboringCircuitFrom;
                  finalNeighboringCircuitTo = midpoint;
                }
              }
            }

            drawnCircuits[trackCircuit.get('CircuitId')] = (
              <RawLine key={trackCircuit.get('CircuitId')}
                       from={finalCircuitFrom} to={finalCircuitTo}
                       boxShadow={borders.join()}
                       zIndex={(trackCircuit.get('Track') !== 1 && trackCircuit.get('Track') !== 2) ? 0 : 1}/>
            );

            drawnCircuits[neighboringTrackCircuitId] = (
              <RawLine key={neighboringTrackCircuitId}
                       from={finalNeighboringCircuitFrom} to={finalNeighboringCircuitTo}
                       boxShadow={borders.join()}
                       zIndex={(trackCircuit.get('Track') !== 1 && trackCircuit.get('Track') !== 2) ? 0 : 1}/>
            );
          }

          if (!visitedCircuits[neighboringTrackCircuitId]) {
            linesToDrawNext.push({
              trackCircuit: this.state.get('trackCircuitMap').get(neighboringTrackCircuitId.toString()),
              lastTrackNumber: (trackCircuit.get('Track') === 1 || trackCircuit.get('Track') === 2) ? trackCircuit.get('Track') : lastTrackNumber,
              lastLineCoordinates: neighboringTrackCircuitInfo.get('NeighborType') !== neighborType ?
                (drawnCircuits[neighboringTrackCircuitId] ? drawnCircuits[neighboringTrackCircuitId].props.to : lastLineCoordinates) :
                (drawnCircuits[neighboringTrackCircuitId] ? drawnCircuits[neighboringTrackCircuitId].props.from : lineCoordinates),
              neighborType: neighboringTrackCircuitInfo.get('NeighborType'),
              lastTrackCircuit: trackCircuit
            });
          }
        }
      });
    });
    return linesToDrawNext;
  },

  onGetCircuits() {
    if (!this.get('trackCircuitMap')) {
      const minStep = 128; // in pixels
      const additionalStopCircuits = [3420, 2987, 3280, 2829, 3076, 1282, 2927, 1089, 1462, 2409, 1636, 2495, 1249, 3124, 1055, 3105, 2752, 1158, 2673, 965, 3145, 2361, 3123, 2228]; // ids of circuits before junctions
      let mostNumCircuitsBetweenStopCircuits = 0;
      let leastNumCircuitsBetweenStopCircuits = 999;
      standardRoutes['StandardRoutes'].forEach((standardRoute, index) => {
        let numCircuitsBetweenStopCircuits = 1;
        standardRoute['TrackCircuits'].forEach((trackCircuit, index) => {
          if (trackCircuit['StationCode'] || _.includes(additionalStopCircuits, trackCircuit['CircuitId'])) {
            if (numCircuitsBetweenStopCircuits > mostNumCircuitsBetweenStopCircuits) {
              mostNumCircuitsBetweenStopCircuits = numCircuitsBetweenStopCircuits;
            } else if (numCircuitsBetweenStopCircuits < leastNumCircuitsBetweenStopCircuits) {
              leastNumCircuitsBetweenStopCircuits = numCircuitsBetweenStopCircuits;
            }
            numCircuitsBetweenStopCircuits = 0;
          } else {
            numCircuitsBetweenStopCircuits += 1;
          }
        });
      });

      const trackCircuitMap = {};
      trackCircuits['TrackCircuits'].forEach((trackCircuit, index) => {
        const trackCircuitId = trackCircuit['CircuitId'];
        trackCircuitMap[trackCircuitId] = trackCircuit;
      });

      standardRoutes['StandardRoutes'].forEach((standardRoute, index) => {
        const lineCode = standardRoute['LineCode'];
        if (lineCode !== "YLRP") {
          let lastStopCircuitId = null;
          let intermediateCircuitIds = [];
          standardRoute['TrackCircuits'].forEach((trackCircuit, index) => {
            const trackCircuitId = trackCircuit['CircuitId'];
            if (trackCircuitMap[trackCircuitId]) {
              if (trackCircuitMap[trackCircuitId]['lineCodes']) {
                trackCircuitMap[trackCircuitId]['lineCodes'].push(lineCode);
              } else {
                trackCircuitMap[trackCircuitId]['lineCodes'] = [lineCode];
              }
              trackCircuitMap[trackCircuitId]['stationCode'] = trackCircuit['StationCode'];
              trackCircuitMap[trackCircuitId]['stationName'] = this.state.get('stationCodeNameMap').get(trackCircuit['StationCode']);
            }

            if (trackCircuit['StationCode'] || _.includes(additionalStopCircuits, trackCircuitId)) {
              trackCircuitMap[trackCircuitId]['step'] = 32;

              if (lastStopCircuitId) {
                const step = (leastNumCircuitsBetweenStopCircuits * minStep) / intermediateCircuitIds.length;
                const roundedStep = Math.round(step);
                for (let i = 0; i < intermediateCircuitIds.length; i++) {
                  const intermediateCircuitId = intermediateCircuitIds[i];
                  trackCircuitMap[intermediateCircuitId]['step'] = step;

                  const error = roundedStep - step;
                  if (i === intermediateCircuitIds.length - 1) {
                    trackCircuitMap[intermediateCircuitId]['step'] += error;
                  }
                }
              }
              lastStopCircuitId = trackCircuitId;
              intermediateCircuitIds = [];
            } else {
              intermediateCircuitIds.push(trackCircuitId);
            }
          });
        }
      });

      this.setState({
        trackCircuitMap: trackCircuitMap,
        circuits: null
      });
    }

    const drawnCircuits = {};
    let visitedCircuits = {};

    let linesToDrawNext = this._renderCircuit(drawnCircuits, visitedCircuits, this.state.get('trackCircuitMap').get('209'), null, {x: 118, y: 88}, null, 1, null);
    while (linesToDrawNext && linesToDrawNext.length > 0) {
      const newLinesToDrawNext = [];
      for (let i = 0; i < linesToDrawNext.length; i++) {
        const lineToDrawNext = linesToDrawNext[i];
        newLinesToDrawNext.push.apply(newLinesToDrawNext, this._renderCircuit(drawnCircuits, visitedCircuits, lineToDrawNext.trackCircuit, lineToDrawNext.lastTrackNumber, lineToDrawNext.lastLineCoordinates, lineToDrawNext.neighborType, 1, null));
      }
      linesToDrawNext = newLinesToDrawNext;
    }

    linesToDrawNext = this._renderCircuit(drawnCircuits, visitedCircuits, this.state.get('trackCircuitMap').get('6'), null, {x: 118, y: 136}, null, 1, null);
    while (linesToDrawNext && linesToDrawNext.length > 0) {
      const newLinesToDrawNext = [];
      for (let i = 0; i < linesToDrawNext.length; i++) {
        const lineToDrawNext = linesToDrawNext[i];
        newLinesToDrawNext.push.apply(newLinesToDrawNext, this._renderCircuit(drawnCircuits, visitedCircuits, lineToDrawNext.trackCircuit, lineToDrawNext.lastTrackNumber, lineToDrawNext.lastLineCoordinates, lineToDrawNext.neighborType, 1, null));
      }
      linesToDrawNext = newLinesToDrawNext;
    }

    linesToDrawNext = this._renderCircuit(drawnCircuits, visitedCircuits, this.state.get('trackCircuitMap').get('3289'), null, {x: 118, y: 198}, null, 1, null);
    while (linesToDrawNext && linesToDrawNext.length > 0) {
      const newLinesToDrawNext = [];
      for (let i = 0; i < linesToDrawNext.length; i++) {
        const lineToDrawNext = linesToDrawNext[i];
        newLinesToDrawNext.push.apply(newLinesToDrawNext, this._renderCircuit(drawnCircuits, visitedCircuits, lineToDrawNext.trackCircuit, lineToDrawNext.lastTrackNumber, lineToDrawNext.lastLineCoordinates, lineToDrawNext.neighborType, 1, null));
      }
      linesToDrawNext = newLinesToDrawNext;
    }

    linesToDrawNext = this._renderCircuit(drawnCircuits, visitedCircuits, this.state.get('trackCircuitMap').get('3154'), null, {x: 118, y: 244}, null, 1, null);
    while (linesToDrawNext && linesToDrawNext.length > 0) {
      const newLinesToDrawNext = [];
      for (let i = 0; i < linesToDrawNext.length; i++) {
        const lineToDrawNext = linesToDrawNext[i];
        newLinesToDrawNext.push.apply(newLinesToDrawNext, this._renderCircuit(drawnCircuits, visitedCircuits, lineToDrawNext.trackCircuit, lineToDrawNext.lastTrackNumber, lineToDrawNext.lastLineCoordinates, lineToDrawNext.neighborType, 1, null));
      }
      linesToDrawNext = newLinesToDrawNext;
    }

    visitedCircuits = {};
    linesToDrawNext = this._renderCircuit(drawnCircuits, visitedCircuits, this.state.get('trackCircuitMap').get('6'), null, {x: 118, y: 136}, null, 2, null);
    while (linesToDrawNext && linesToDrawNext.length > 0) {
      const newLinesToDrawNext = [];
      for (let i = 0; i < linesToDrawNext.length; i++) {
        const lineToDrawNext = linesToDrawNext[i];
        newLinesToDrawNext.push.apply(newLinesToDrawNext, this._renderCircuit(drawnCircuits, visitedCircuits, lineToDrawNext.trackCircuit, lineToDrawNext.lastTrackNumber, lineToDrawNext.lastLineCoordinates, lineToDrawNext.neighborType, 2, null));
      }
      linesToDrawNext = newLinesToDrawNext;
    }

    visitedCircuits = {};
    linesToDrawNext = this._renderCircuit(drawnCircuits, visitedCircuits, this.state.get('trackCircuitMap').get('6'), null, {x: 118, y: 136}, null, 3, null);
    while (linesToDrawNext && linesToDrawNext.length > 0) {
      const newLinesToDrawNext = [];
      for (let i = 0; i < linesToDrawNext.length; i++) {
        const lineToDrawNext = linesToDrawNext[i];
        newLinesToDrawNext.push.apply(newLinesToDrawNext, this._renderCircuit(drawnCircuits, visitedCircuits, lineToDrawNext.trackCircuit, lineToDrawNext.lastTrackNumber, lineToDrawNext.lastLineCoordinates, lineToDrawNext.neighborType, 3, lineToDrawNext.lastTrackCircuit));
      }
      linesToDrawNext = newLinesToDrawNext;
    }

    this.setState({
      circuits: drawnCircuits
    });
  },

  onUpdateState(obj) {
    this.setState(obj);
  }
});
